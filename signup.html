<!--Content-Type: text/html;--->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>HELM Teacher Signup Form</title>

    <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca&display=swap" rel="stylesheet" />
    <link href="style.css" rel="stylesheet" />
</head>

<body>
    <div id="head">
        <a href="http://teachers.helmlearning.com">
            <img src='https://helm-logos.s3.amazonaws.com/helm-logo-v2-1.png' , width=320px>
        </a>
        <div id='header_text'>
            <h1 id="header_signup">Sign up to be a ??? at HELM! </h1>
        </div>
    </div>

    <div id="root">
        <div id="new_sys_1" class="input_fields" class="peasant" style="background-color: #ca99ff;">
            <button id="showmore1" class="arrowbutton"><i class="arrow right"></i></button>
            <h2 style="display:inline-block;">What is HELM Learning?</h2>
            <h3 style="color: black; font-size: 14px;" class="hidin1">
                Our goal is to help students around the world get an education while schools are out, and if you are
                passionate about this, we would love to have you on our team!
                <br><br>
                We are looking for driven individuals who are passionate about subjects they want to spread with others.
            </h3>
        </div>
        <div id="new_sys_2" class="input_fields" class="peasant" style="background-color: #ca99ff;">
            <button id="showmore2" class="arrowbutton"><i class="arrow right"></i></button>
            <h2 style="display:inline-block;">Logistics for Teaching</h2>
            
            <h3 style="color: black; font-size: 14px;" class="hidin2">
                - HELM Learning classes are usually synchronous classes over Zoom weekly during summer break. Classes run once a day, from Monday to Friday for 60 - 90 mins a day (sessions usually only meet for that week)<br>
                ---- Teachers can select what class time works best for them<br>
                - You are welcome to create your own curriculum, although for some subjects we have curriculum created by previous teachers<br>
                - You will earn around 10 - 15 community service hours depending on how long your class is per session<br>
                - You can teach with a partner, just make sure both people fill out the sign up forms
            </h3>
        </div>
        <div id="new_sys_2" class="input_fields" class="peasant" style="background-color: #ca99ff;">
            <button id="showmore4" class="arrowbutton"><i class="arrow right"></i></button>
            <h2 style="display:inline-block;">Benefits of teaching at HELM Learning</h2>
            
            <h3 style="color: black; font-size: 14px;" class="hidin4">
                Teaching your class through HELM means<br>
                <br>
                - Zoom links will automatically be created for your class with our premium Zoom account<br>
                - A class recording folder will be automatically created<br>
                - Reminder emails to students will be automatically sent out<br>
                - You can see and email your students with the click of a button<br>
                - You will be able to earn Community Service Hours<br>
                ---- either for your school<br>
                ---- or for the <a href='https://presidentialserviceawards.gov/'>Presidential Volunteer Service Award</a><br>
            </h3>
        </div>
        <div id="saveforlater" class="input_fields" class="peasant" style="background-color: #ca99ff;">
            <button id="showmore3" class="arrowbutton"><i class="arrow right"></i></button>
            <h2 style="display:inline-block;">Save your progress</h2>
            <p class="hidin3">
                Click here to save your responses from this form, and receive a link to complete this later
            </p>
            <button class="hidin3" onclick="saveforlater()" id="saveforlaterbutton">Save for later</button>
        </div>
        <div id="instructions">
            <h3> Please enter in information about your class. <br>Note: Only the teacher of the class should fill this
                out <br>(* means required)</h3>
        </div>
        <div id="lesection1" class="input_fields" class="peasant" style="background-color: #ceb5ff;">
            <h2>Section 1: About You</h2>
            <p>
                This is just some information about you and what you do
            </p>
        </div>

        <div id="input_fields_first_name" class="input_fields" class="peasant">
            <h2>Your name *</h2>
            <input type="text" id="first_name" onfocus="popup(id)" onblur="popdown(id)"
                placeholder="Please enter your (the teacher's) name" required>
        </div>

        <div id="input_fields_email" class="input_fields" class="peasant">
            <h2>Your email *</h2>
            <input type="text" id="email" onfocus="popup(id)" onblur="popdown(id)"
                placeholder="Please enter your (the teacher's) email" required>
        </div>

        <div id="input_fields_phnumber" class="input_fields" class="peasant">
            <h2>Your Phone Number *</h2>
            <input type="text" id="phnumber" onfocus="popup(id)" onblur="popdown(id)"
                placeholder="Please enter your (the teacher's) cell number" required>
        </div>

        <div id="input_fields_town" class="input_fields" class="peasant">
            <h2>What town and state are you from? *</h2>
            <input type="text" id="town" onfocus="popup(id)" onblur="popdown(id)"
                placeholder="Please enter where you (the teacher) lives" required>
        </div>

        <div id="input_fields_school" class="input_fields" class="peasant">
            <h2>What is your year of graduation, What school do you go to? *</h2>
            <input type="text" id="school" onfocus="popup(id)" onblur="popdown(id)"
                placeholder='Like "Class of 20XX at XXXX"' required>
        </div>

        <div id="input_fields_bio" class="input_fields" class="peasant">
            <h2>Please send a quick 3-5 sentence bio about yourself (for the website) *</h2>
            <p>NOTE: examples are on the website at <a
                    href='https://helmlearning.com/our-team'>helmlearning.com/our-team</a>)</p>
            <textarea id="bio" onfocus="popup(id)" onblur="popdown(id)"
                placeholder="Please enter what school your (the teacher's) bio" required
                style="height:200px;"></textarea>
        </div>

        <div id="input_fields_pic" class="input_fields" class="peasant">
            <h2>Upload a nice professional-quality photo of yourself (for the website) *</h2>
            <p>Upload your picture to Google Drive, then get the sharable link (make sure it can be viewed by anyone)
                and then paste the sharable link here</p>
            <input type="text" id="pic" onfocus="popup(id)" onblur="popdown(id)"
                placeholder="Please enter the drive link to your picture" required>
        </div>

        <div id="input_fields_insta" class="input_fields" class="peasant">
            <h2>Drop your Social Media Here</h2>
            <p>If you want to, you can drop your instagram / facebook / twitter / other social media handle<br>(You can also follow HELM's social media accounts @helmlearning)</p>
            <input type="text" id="insta" onfocus="popup(id)" onblur="popdown(id)"
                placeholder="Please a social media handle (not required)" required>
        </div>


        <div id="input_fields_heard_about" class="input_fields" class="peasant">
            <h2>How did you learn about HELM? *</h2>
            <p>This doesn't affect anything, we just want to know</p>
            <input type="text" id="heard_about" onfocus="popup(id)" onblur="popdown(id)"
                placeholder="Please enter how you learned about us" required>
        </div>

        <div id="lesection2" class="input_fields" class="peasant" style="background-color: #ceb5ff;">
            <h2>Section 2: About Your Class</h2>
            <p>
                This is just information about your class. This section details what your class would be about, how it
                is interactive, etc.<br><br>
                
                If the class you want to teach is there, contact the HELM Learning Management Team (<a
                    href='mailto:helmlearning2020@gmail.com'>helmlearning2020@gmail.com</a>) and we will see if we can
                have you teach the exisiting class.
            </p>
        </div>

        <div id="input_fields_class_namee" class="input_fields" class="peasant">
            <h2>What would be the name of your class (give a creative description) *</h2>
            <p>This is the official name of your class<br>Examples: Fun & Games with Python, Introduction to Human Biology, What is Economics?, etc</p>
            <input type="text" id="class_namee" onfocus="popup(id)" onblur="popdown(id)"
                placeholder="Name of your class" required>
        </div>

        <div id="input_fields_class_short_name" class="input_fields" class="peasant">
            <h2>In 1-2 words, describe the subject you want to teach *</h2>
            <p>This is the code-name / short-name for your class<br>Examples: Python, Human Biology, Economcics, etc</p>
            <input type="text" id="class_short_name" onfocus="popup(id)" onblur="popdown(id)"
                placeholder="Subject of your class" required>
        </div>

        <div id="input_fields_class_e1_summary" class="input_fields" class="peasant">
            <h2>In 50 words or less, describe what you want to teach in this class. Start it with "In this class, we
                will learn..." *</h2>
            <!-- <input type="text" id="class_e1_summary" onfocus="popup(id)" onblur="popdown(id)" placeholder="Name of your class" required> -->
            <textarea id="class_e1_summary" onfocus="popup(id)" onblur="popdown(id)"
                placeholder="Short Description of Your Class" required
                style="height:150px;">In this class, we will learn </textarea>
        </div>

        <div id="input_fields_class_description" class="input_fields" class="peasant">
            <h2>Please give a short 3-4 sentence description on your class (for the website) *</h2>
            <!-- <input type="text" id="class_e1_summary" onfocus="popup(id)" onblur="popdown(id)" placeholder="Name of your class" required> -->
            <textarea id="class_description" onfocus="popup(id)" onblur="popdown(id)"
                placeholder="Description of Your Class" required style="height:150px;"></textarea>
        </div>

        <div id="input_fields_class_curriculum" class="input_fields" class="peasant">
            <h2>Can you give us a (brief) Day to Day lesson plan? *</h2>
            <p>Basically just say what you could cover for each of the 5 sessions. It doesn't have to be too elaborate,
                but briefly explainc</p>
            <!-- <input type="text" id="class_e1_summary" onfocus="popup(id)" onblur="popdown(id)" placeholder="Name of your class" required> -->
            <textarea id="class_curriculum" onfocus="popup(id)" onblur="popdown(id)"
                placeholder="Curriculum of Your Class" required style="height:150px;"></textarea>
        </div>

        <div id="input_fields_class_interactive" class="input_fields" class="peasant">
            <h2>Many students will be young (elementary-middle school), so interactive learning is a big part of the
                class. Do you have any ideas on how your class will be interactive? (It's ok if you don't) *</h2>
            <!-- <input type="text" id="class_e1_summary" onfocus="popup(id)" onblur="popdown(id)" placeholder="Name of your class" required> -->
            <textarea id="class_interactive" onfocus="popup(id)" onblur="popdown(id)"
                placeholder="How Interactive is Your Class" required></textarea>
        </div>

        <div id="lesection3" class="input_fields" class="peasant" style="background-color: #ceb5ff;">
            <h2>Section 3: Logistics of Your Class</h2>
            <p>
                This is just logistical information, such as when the class is and who it is for<br><br>
                - Sessions during the school semester are 5 weeks long<br>
                ----- Some weeks there will be no class due to school break ¬<br>
                ----- For example if your class runs through Thanksgiving week, your class will will still be 5 weeks
                long, but will skip that week<br>
                <br>
                - Sessions during school breaks and summer vacation will have weeklong sessions. School breaks
                include:<br>
                ----- December break (week of Dec 25 and week of Jan 1)<br>
                ----- February break (week of Feb 19)<br>
                ----- April break (week of April 19)<br>
                ----- Summer break (every week starting from the week of June 21 and ending the week of Sept 7)
            </p>
        </div>
        <div id="input_fields_class_grades" class="input_fields" class="peasant">
            <h2>What do you think the recommended age group would be for your class? (Which grades) *</h2>
            <input type="text" id="class_grades" onfocus="popup(id)" onblur="popdown(id)" placeholder='Which grades?'
                required>
        </div>
        <div id="input_fields_class_duration" class="input_fields" class="peasant">
            <h2>How many minutes per day would your class be? *</h2>
            <input type="number" id="class_duration" onfocus="popup(id)" onblur="popdown(id)"
                placeholder='A number between 30-90 mins' required>
        </div>
        <div id="input_fields_new_class_time" class="input_fields" class="peasant">
            <h2>Time Ranges for your class *</h2>
            <p>Give at least 2 different time ranges in case one doesn't work out • In the format "hh:mm - hh:mm; hh:mm
                - hh:mm; ...", <br>All times in 24 hour time, EST</p>
            <input type="text" id="new_class_time" onfocus="popup(id)" onblur="popdown(id)"
                placeholder='A time range like "19:00 - 20:00; 11:30 - 12:30"' required>
        </div>
        <div id="input_fields_day_dropdown" class="input_fields" class="peasant">
            <h2>Which day of the week would you like to teach your class? *</h2>
            <p>Note: You can select multiple days, and we will choose which day works best for the HELM Schedule</p>
            <input type="checkbox" id="day_dropdown_1" value="Monday" class="checkcheck">
            <label for="day_dropdown_1">Monday</label><br>
            <input type="checkbox" id="day_dropdown_2" value="Tuesday" class="checkcheck">
            <label for="day_dropdown_2">Tuesday</label><br>
            <input type="checkbox" id="day_dropdown_3" value="Wednesday" class="checkcheck">
            <label for="day_dropdown_3">Wednesday</label><br>
            <input type="checkbox" id="day_dropdown_4" value="Thursday" class="checkcheck">
            <label for="day_dropdown_4">Thursday</label><br>
            <input type="checkbox" id="day_dropdown_5" value="Friday" class="checkcheck">
            <label for="day_dropdown_5">Friday</label><br>
            <input type="checkbox" id="day_dropdown_6" value="Saturday" class="checkcheck">
            <label for="day_dropdown_6">Saturday</label><br>
            <input type="checkbox" id="day_dropdown_7" value="Sunday" class="checkcheck">
            <label for="day_dropdown_7">Sunday</label><br>
            <input type="checkbox" id="day_dropdown_8" value="weeklong" class="checkcheck">
            <label for="day_dropdown_8">I want to teach a weelong class (Mon-Fri)</label><br>

        </div>
        <div id="input_fields_new_class_startdate" class="input_fields" class="peasant">
            <h2>Start Dates for your class *</h2>
            <p>Please enter which week you would like to start teaching your class by entering the date of the Monday of
                that week, even if you don't want to teach on Monday • <br>In the format "yyyy-mm-dd"</p>
            <input type="text" id="new_class_startdate" onfocus="popup(id)" onblur="popdown(id)"
                placeholder='Enter a date like "2021-06-21", which is a Monday' required>
        </div>

        <div id="input_fields_new_class_e1_materials" class="input_fields" class="peasant">
            <h2>Is there anything the students will need before the class begins? *</h2>
            <p>Other than an internet connection and a laptop / tablet<br>This will be sent in the welcome email directed to students</p>
                <textarea id="new_class_e1_materials" onfocus="popup(id)" onblur="popdown(id)"
                required>Before class starts, make sure you have a way to access zoom, preferably by a laptop or a tablet.</textarea>
        </div>

        <div id="input_fields_new_class_e4_continuingfurther" class="input_fields" class="peasant">
            <h2>Once the session is over, what are the next steps for the students to continue this subject? *</h2>
            <p>For example for some classes, they can take a continuation class elsewhere<br>This will be sent in an email directed to students</p>
                <textarea id="new_class_e4_continuingfurther" onfocus="popup(id)" onblur="popdown(id)"
                placeholder="For example students may want to go to ktbyte.com, or khanacademy.com, etc" required></textarea>
        </div>

        <div id="new_sys_3" class="input_fields" class="peasant" style="background-color: #ca99ff;">
            <!-- <button id="showmore2" class="arrowbutton"><i class="arrow right"></i></button> -->
            <h2 style="display:inline-block;">After you submit</h2>
            
            <h3 style="color: black; font-size: 14px;">
                Once you press submit, someone from the HELM Management Team will review your application.<br><br>
                You will receive an email within the next few days with further steps to add your class.
            </h3>
        </div>

        <div id="submit" class="input_fields" class="peasant">
            <button id='submit_button' onclick="submit()" style="width:80px;">Submit</button>
            <input type="checkbox" id="reuse" value="reuse" class="checkcheck">
            <label for="reuse">Reuse class information from the website</label><br>
        </div>

    </div>



</body>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>

    var ilysa = document.location.href
    if (!ilysa.includes("?")) {
        window.location.href = '?teacher'
    }

    var dots1 = false;
    var dots2 = false;
    var dots3 = false;
    $(document).ready(function(){  
        $(".hidin1").slideUp(1);
        $(".hidin2").slideUp(1);
        $(".hidin3").slideUp(1);
        $(".hidin4").slideUp(1);
        $("#showmore1").click(function() {
            if (dots1 === false) {
                $(".hidin1").slideDown(300);
                document.getElementById("showmore1").innerHTML = '<i class="arrow down"></i>';
                dots1 = true;
            } else {
                $(".hidin1").slideUp(300);
                document.getElementById("showmore1").innerHTML = '<i class="arrow right"></i>';
                dots1 = false
            }
        })

    
        $("#showmore2").click(function() {
            if (dots2 === false) {
                $(".hidin2").slideDown(300);
                document.getElementById("showmore2").innerHTML = '<i class="arrow down"></i>';
                dots2 = true;
            } else {
                $(".hidin2").slideUp(300);
                document.getElementById("showmore2").innerHTML = '<i class="arrow right"></i>';
                dots2 = false
            }
        })   
        
        $("#showmore3").click(function() {
            if (dots3 === false) {
                $(".hidin3").slideDown(300);
                document.getElementById("showmore3").innerHTML = '<i class="arrow down"></i>';
                dots3 = true;
            } else {
                $(".hidin3").slideUp(300);
                document.getElementById("showmore3").innerHTML = '<i class="arrow right"></i>';
                dots3 = false
            }
        }) 
        $("#showmore4").click(function() {
            if (dots3 === false) {
                $(".hidin4").slideDown(300);
                document.getElementById("showmore4").innerHTML = '<i class="arrow down"></i>';
                dots3 = true;
            } else {
                $(".hidin4").slideUp(300);
                document.getElementById("showmore4").innerHTML = '<i class="arrow right"></i>';
                dots3 = false
            }
        }) 
            
    });


    var params = ilysa.split('?')[1].split('&')
    var teacher_blocked = [];
    var manager_hacker_blocked = ["phnumber", "town", "school", "bio", "pic", "insta", "heard_about", "class_namee", "class_short_name", 
                           "class_e1_summary", "class_description", "class_curriculum", "class_interactive", "class_grades", 
                           "class_duration", "new_class_time", "day_dropdown_1", "day_dropdown_2", "day_dropdown_3", "day_dropdown_4",
                           "day_dropdown_5", "day_dropdown_6", "day_dropdown_7", "day_dropdown_8", "new_class_startdate", 
                           "new_class_e1_materials", "new_class_e4_continuingfurther"]; //not blocking name and email
    var speaker_blocked = ["class_namee", "class_short_name", 
                           "class_e1_summary", "class_description", "class_curriculum", "class_interactive", "class_grades", 
                           "class_duration", "new_class_time", "day_dropdown_1", "day_dropdown_2", "day_dropdown_3", "day_dropdown_4",
                           "day_dropdown_5", "day_dropdown_6", "day_dropdown_7", "day_dropdown_8", "new_class_startdate", 
                           "new_class_e1_materials", "new_class_e4_continuingfurther"];
    var helmclub_blocked = ["class_namee", "class_short_name", 
                           "class_e1_summary", "class_description", "class_curriculum", "class_interactive", "class_grades", 
                           "class_duration", "new_class_time", "day_dropdown_1", "day_dropdown_2", "day_dropdown_3", "day_dropdown_4",
                           "day_dropdown_5", "day_dropdown_6", "day_dropdown_7", "day_dropdown_8", "new_class_startdate", 
                           "new_class_e1_materials", "new_class_e4_continuingfurther"];
    if (params[0] == "manager") {
        for (var i = 0; i < manager_hacker_blocked.length; i++) {
            document.getElementById(manager_hacker_blocked[i]).disabled = true;
            document.getElementById(manager_hacker_blocked[i]).innerHTML = "You do not have to fill out this field"
            document.getElementById(manager_hacker_blocked[i]).placeholder = "You do not have to fill out this field"
        }
        document.getElementById("header_signup").innerHTML = "Sign up to be a Manager at HELM!"
    }
    if (params[0] == "hacker") {
        for (var i = 0; i < manager_hacker_blocked.length; i++) {
            document.getElementById(manager_hacker_blocked[i]).disabled = true;
            document.getElementById(manager_hacker_blocked[i]).innerHTML = "You do not have to fill out this field"
            document.getElementById(manager_hacker_blocked[i]).placeholder = "You do not have to fill out this field"
        }
        document.getElementById("header_signup").innerHTML = "Sign up to be a Hacker at HELM!"
    }
    if (params[0] == "speaker") {
        for (var i = 0; i < speaker_blocked.length; i++) {
            document.getElementById(speaker_blocked[i]).disabled = true;
            document.getElementById(speaker_blocked[i]).innerHTML = "You do not have to fill out this field"
            document.getElementById(speaker_blocked[i]).placeholder = "You do not have to fill out this field"
        }
        document.getElementById("header_signup").innerHTML = "Sign up to be a Speaker at HELM!"
    }

    if (params[0] == "helm-club") {
        for (var i = 0; i < helmclub_blocked.length; i++) {
            document.getElementById(helmclub_blocked[i]).disabled = true;
            document.getElementById(helmclub_blocked[i]).innerHTML = "You do not have to fill out this field"
            document.getElementById(helmclub_blocked[i]).placeholder = "You do not have to fill out this field"
        }
        document.getElementById("header_signup").innerHTML = "Sign up to be a HELM Club Member at HELM!"
    }
    if (params[0] == "teacher") {
        for (var i = 0; i < teacher_blocked.length; i++) {
            document.getElementById(teacher_blocked[i]).disabled = true;
            document.getElementById(teacher_blocked[i]).innerHTML = "You do not have to fill out this field"
            document.getElementById(teacher_blocked[i]).placeholder = "You do not have to fill out this field"
        }
        document.getElementById("header_signup").innerHTML = "Sign up to be a Teacher at HELM!"

        /* reuseinfo = document.createElement("INPUT")
        reuseinfo.type = "checkbox"
        reuseinfo.id = "reuse"
        reuseinfo.value = "reuse"
        reuseinfo.class = "checkcheck"
        document.getElementById("submit").appendChild(reuseinfo)
        reuseinfotext = document.createElement("LABEL")
        reuseinfotext.for = "reuse"
        reuseinfotext.innerHTML = "Reuse class information from website"
        document.getElementById("submit").appendChild(reuseinfotext) */
    }
    if (params[1] == 'frominterest') {
        var pp = ilysa.split("?")[1]
        for (var i = 0; i < pp.indexOf('&'); i++) {
            pp = pp.replace('&', "≈");
            }
        const url_a = 'https://signup.helmlearning.com:5000/api/v1/resources/exchange_cache_2?cache=' + pp;
        // const url_a = 'http://0.0.0.0:5000/api/v1/resources/exchange_cache?' + ilysa.split('?')[1];
        const request = new XMLHttpRequest();
        request.open('GET', url_a)
        request.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        request.onload = function () {
            var data = JSON.parse(this.response);
            console.log(data);
            document.getElementById("first_name").setAttribute("value", data[0])
            document.getElementById("email").setAttribute("value", data[1])
            document.getElementById("town").setAttribute("value", data[2])
            document.getElementById("heard_about").setAttribute("value", data[3])
            document.getElementById("class_short_name").setAttribute("value", data[4])
        }
        request.send()
    }
    else if (params.length > 2 || params[1] == 'fromsfl') {
        var header = document.getElementById("header_signup").innerHTML;
        document.getElementById("header_signup").innerHTML = "Getting Saved Info..."
        var url_a = 'https://signup.helmlearning.com:5000/api/v1/resources/exchange_cache?' + ilysa.split('?')[1];

        if (params[1] == 'fromsfl') {
            console.log("ashdjbfajhdsbhf")
            url_a = 'https://signup.helmlearning.com:5000/api/v1/resources/exchange_cache_3?' + ilysa.split('fromsfl&')[1];
        
        }
        
        

        console.log(url_a);
        // const url_a = 'http://0.0.0.0:5000/api/v1/resources/exchange_cache?' + ilysa.split('?')[1];
        const request = new XMLHttpRequest();
        request.open('GET', url_a)
        request.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        request.onload = function () {
            var data = JSON.parse(this.response);
            console.log(data);

            document.getElementById("first_name").setAttribute("value", data[0])
            document.getElementById("email").setAttribute("value", data[1])
            document.getElementById("phnumber").setAttribute("value", data[2])
            document.getElementById("town").setAttribute("value", data[3])
            document.getElementById("school").setAttribute("value", data[4])
            // document.getElementById("bio").setAttribute("innerHTML", data[4])
            document.getElementById("bio").innerHTML = data[5];
            document.getElementById("pic").setAttribute("value", data[6])
            document.getElementById("insta").setAttribute("value", data[7])
            document.getElementById("heard_about").setAttribute("value", data[8])

            document.getElementById("class_namee").setAttribute("value", data[9])
            document.getElementById("class_short_name").setAttribute("value", data[10])
            document.getElementById("class_e1_summary").innerHTML = data[11];
            document.getElementById("class_description").innerHTML = data[12];
            document.getElementById("class_curriculum").innerHTML = data[13];
            document.getElementById("class_interactive").innerHTML = data[14];

            document.getElementById("class_grades").setAttribute("value", data[15])
            document.getElementById("class_duration").setAttribute("value", data[16])
            document.getElementById("new_class_time").setAttribute("value", data[17])
            
            var days = data[18];
            if (days.includes("Monday")) document.getElementById("day_dropdown_1").checked = true;
            if (days.includes("Tuesday")) document.getElementById("day_dropdown_2").checked = true;
            if (days.includes("Wednesday")) document.getElementById("day_dropdown_3").checked = true;
            if (days.includes("Thursday")) document.getElementById("day_dropdown_4").checked = true;
            if (days.includes("Friday")) document.getElementById("day_dropdown_5").checked = true;
            if (days.includes("Saturday")) document.getElementById("day_dropdown_6").checked = true;
            if (days.includes("Sunday")) document.getElementById("day_dropdown_7").checked = true;
            if (days.includes("weeklong")) document.getElementById("day_dropdown_8").checked = true;

            document.getElementById("new_class_startdate").setAttribute("value", data[19])
            document.getElementById("new_class_e1_materials").innerHTML = data[20];
            document.getElementById("new_class_e4_continuingfurther").innerHTML = data[21];
            document.getElementById("header_signup").innerHTML = header
        } 
        request.send()
        // document.getElementById("first_name").setAttribute("value", params[0])
        // document.getElementById("class_dropdown").setAttribute("value", params[1])
        // document.getElementById("class_duration").setAttribute("value", params[2])
        // document.getElementById("new_class_time").setAttribute("value", params[3])
        // document.getElementById("new_class_startdate").setAttribute("value", params[4])
        // document.getElementById("new_class_enddate").setAttribute("value", params[5])

    }


    function saveforlater() {
        var all_the_data = get_all_the_data();
        
        if (document.getElementById("email").value == '') {
            document.getElementById("email").style.borderColor = "red"
            document.getElementById('saveforlaterbutton').innerHTML = "Something needs-a-fixin'"
            alert("Please enter your email so we can send you the link")
            return
        }

        var url_b = 'https://signup.helmlearning.com:5000/api/v1/resources/save_signup_for_later';
        url_b += "?email=" + document.getElementById("email").value;
        url_b += "&length=" + all_the_data.length;
        for (var j = 0; j < all_the_data.length; j++) {
            url_b += "&"
            url_b += "" + j + "=" + all_the_data[j];
        }
        console.log(url_b);
        const request = new XMLHttpRequest();
        request.open('GET', url_b)
        request.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        request.onload = function () {
            var data = JSON.parse(this.response);
            var link = data[1];
            console.log(link)
            var fname = document.getElementById("email").value
            window.location.href = 'confirmation.html?' + fname + '&class=' + link + '&thistimeitis=fromsfl';
        }
        request.send()
    }


    function popup(input_id) {
        textbox = document.getElementById(input_id);
        textbox_div = document.getElementById('input_fields_' + input_id);
        textbox_div.style.boxShadow = "1px 1px 1px 2px #6e6e6e, 20px 20px 20px #6e6e6e";
        textbox_div.style.transitionTimingFunction = "ease-out";
        textbox_div.style.transition = "all 0.25s";
        textbox_div.style.marginBottom = "20px";
        textbox_div.style.marginTop = "0px";
        textbox_div.style.marginLeft = "-3px";

    }

    function popdown(input_id) {
        textbox = document.getElementById(input_id);
        textbox_div = document.getElementById('input_fields_' + input_id);
        textbox_div.style.boxShadow = "None";
        textbox_div.style.marginBottom = "10px";
        textbox_div.style.marginLeft = "0px";

    }

    function get_all_the_data() {
        var all_the_data = [];
        all_the_data.push(document.getElementById("first_name").value);
        all_the_data.push(document.getElementById("email").value);
        all_the_data.push(document.getElementById("phnumber").value);
        all_the_data.push(document.getElementById("town").value);
        all_the_data.push(document.getElementById("school").value);
        all_the_data.push(document.getElementById("bio").value);
        all_the_data.push(document.getElementById("pic").value);
        all_the_data.push(document.getElementById("insta").value);
        all_the_data.push(document.getElementById("heard_about").value);

        all_the_data.push(document.getElementById("class_namee").value);
        all_the_data.push(document.getElementById("class_short_name").value);
        all_the_data.push(document.getElementById("class_e1_summary").value);
        all_the_data.push(document.getElementById("class_description").value);
        all_the_data.push(document.getElementById("class_curriculum").value);
        all_the_data.push(document.getElementById("class_interactive").value);

        all_the_data.push(document.getElementById("class_grades").value);
        all_the_data.push(document.getElementById("class_duration").value);
        all_the_data.push(document.getElementById("new_class_time").value);

        var days = ""
        if (document.getElementById("day_dropdown_1").checked) days += "Monday, ";
        if (document.getElementById("day_dropdown_2").checked) days += "Tuesday, ";
        if (document.getElementById("day_dropdown_3").checked) days += "Wednesday, ";
        if (document.getElementById("day_dropdown_4").checked) days += "Thursday, ";
        if (document.getElementById("day_dropdown_5").checked) days += "Friday, ";
        if (document.getElementById("day_dropdown_6").checked) days += "Saturday, ";
        if (document.getElementById("day_dropdown_7").checked) days += "Sunday, ";
        if (document.getElementById("day_dropdown_8").checked) days += "weeklong, ";
        all_the_data.push(days);
        // console.log(document.getElementById("day_dropdown").value)
        all_the_data.push(document.getElementById("new_class_startdate").value);
        all_the_data.push(document.getElementById("new_class_e1_materials").value);
        all_the_data.push(document.getElementById("new_class_e4_continuingfurther").value);
        doreuse = "reuse"
        if (document.getElementById("reuse").checked) doreuse += "1";
        else doreuse += "0";
        all_the_data.push(doreuse)
        return all_the_data;
    }

    function submit() {
        //GET DA VARS
        document.getElementById('submit_button').innerHTML = "Processing..."
        var all_the_data = get_all_the_data();

        fnamepos = '0'
        emailpos = '1'

        //MAKE SURE PEEPS DO DA WORK
        // if (fname == '') {
        //     alert("Please enter your name")
        //     document.getElementById("first_name").style.borderColor = "red"
        //     return;
        //     } else {document.getElementById("first_name").style.borderColor = ""}
        // if (classname == '' || classname == "default") {
        //     alert("Please enter your class")
        //     document.getElementById("class_dropdown").style.borderColor = "red"
        //     return;
        //     } else {document.getElementById("class_dropdown").style.borderColor = ""}
        // if (class_duration == '') {
        //     alert("Please enter your class duration")
        //     document.getElementById("class_duration").style.borderColor = "red"
        //     return;
        //     } else {document.getElementById("class_duration").style.borderColor = ""}
        // if (new_class_time == '') {
        //     alert("Please enter your new class time(s)")
        //     document.getElementById("new_class_time").style.borderColor = "red"
        //     return;
        //     } else {document.getElementById("new_class_time").style.borderColor = ""}
        // if (new_class_startdate == '') {
        //     alert("Please enter your new class start time")
        //     document.getElementById("new_class_startdate").style.borderColor = "red"
        //     return;
        //     } else {document.getElementById("new_class_startdate").style.borderColor = ""}
        // if (new_class_enddate == '') {
        //     alert("Please enter your new class end time")
        //     document.getElementById("new_class_enddate").style.borderColor = "red"
        //     return;
        //     } else {document.getElementById("new_class_enddate").style.borderColor = ""}

        //DASH IT THROUGH
        for (var j = 0; j < all_the_data.length; j++) {
            for (var i = 0; i < all_the_data[j].indexOf(' '); i++) {
                all_the_data[j] = all_the_data[j].replace(' ', "º");
            }
        }
        console.log(all_the_data)
        var whichwich
        if (params.length > 1 && params[1] != 'frominterest' && params[1] != 'fromsfl') { 
            var whichwich = "2" 
        } else { 
            var whichwich = "1" 
        }


        var url_b = 'https://signup.helmlearning.com:5000/api/v1/resources/signup_to_be_teach_' + whichwich + '?';
        // var url_b = 'http://0.0.0.0:5000/api/v1/resources/signup_to_be_teach_' + whichwich;
        url_b += "position=" + params[0] + "&length=" + all_the_data.length;
        if (whichwich == '1') url_b += "&fnamepos=" + fnamepos + '&emailpos=' + emailpos
        for (var j = 0; j < all_the_data.length; j++) {
            url_b += "&"
            url_b += "" + j + "=" + all_the_data[j];
        }
        console.log(url_b);
        const request = new XMLHttpRequest();
        request.open('GET', url_b)
        request.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        request.onload = function () {
            var data = JSON.parse(this.response);
            if (data[0] == "0") {
                var fname = 'chumuch…kayani'
                window.location.href = 'confirmation.html?' + fname + '&class=' + name + '&thistimeitis=signup';
            } else if (data[0] == "1") {
                alert('Please enter your new class time(s) in the format "hh:mm - hh:mm; hh:mm - ..."')
                document.getElementById("new_class_time").style.borderColor = "red"
                return;
            } else if (data[0] == "2") {
                alert('Please enter your new class start date / end date in the format "yyyy-mm-dd"')
                document.getElementById("new_class_startdate").style.borderColor = "red"
                return;
            } else if (data[0] == "3") {
                alert('A class with of this subject already exists!')
                document.getElementById("class_short_name").style.borderColor = "red"
            } else if (data[0] == "4") {
                alert('Please enter a valid image')
                document.getElementById("pic").style.borderColor = "red"
            } else if (data[0] == "5") {
                alert('Something went wrong - Please contact helmlearning2020@gmail.com for support')
            } else if (data[0] == "10") {
                alert('There is a Scheduling conflict with the time!')
            }
        }
        request.send()

    }
</script>



</html>